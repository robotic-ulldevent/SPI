<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISTEMA INTEGRAT - Ciutadella de Calafell</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="splash">
        <img src="foto1.jpg" alt="Benvinguda">
        <div class="loader"></div>
        <div class="loading-text">CARREGANT SISTEMA...</div>
    </div>

    <header>
        <h1 style="margin:0; font-size:1.1rem;">Ciutadella de Calafell</h1>
        <div class="header-right">
            <span id="estat-text" style="font-size:0.75rem;">Connectant...</span>
            <div id="estat-icona" class="icona-estat"></div>
            <button onclick="mostrarSeccio('seccio-principal')" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">ğŸ </button>
        </div>
    </header>

    <main id="seccio-principal" class="quadre-container">
        <div class="quadre" onclick="mostrarSeccio('seccio-sensors')"><img src="menu1.jpg" class="menu-img"><h3>MÃ²dul de Sensors</h3></div>
        <div class="quadre" onclick="mostrarSeccio('seccio-vigilancia')"><img src="menu2.jpg" class="menu-img"><h3>VigilÃ ncia Perimetral</h3></div>
        <div class="quadre" onclick="mostrarSeccio('seccio-mapa')"><img src="menu3.jpg" class="menu-img"><h3>Mapa del Jaciment</h3></div>
    </main>

    <section id="seccio-sensors" class="oculta" style="padding:20px;">
        <button class="boto-tornar" onclick="mostrarSeccio('seccio-principal')">â† MenÃº</button>
        <div class="quadre-container">
            <div class="quadre" onclick="obrirCasa('casa1')"><div id="punt-casa1" class="alerta-casa"></div><img src="fotocasa1.jpg" class="menu-img"><h4>Casa 1</h4></div>
            <div class="quadre" onclick="obrirCasa('casa2')"><div id="punt-casa2" class="alerta-casa"></div><img src="fotocasa2.jpg" class="menu-img"><h4>Casa 2</h4></div>
            <div class="quadre" onclick="obrirCasa('casa3')"><div id="punt-casa3" class="alerta-casa"></div><img src="fotocasa3.jpeg" class="menu-img"><h4>Casa 3</h4></div>
            <div class="quadre" onclick="obrirCasa('casa4')"><div id="punt-casa4" class="alerta-casa"></div><img src="fotocasa4.jpg" class="menu-img"><h4>Casa 4</h4></div>
        </div>
    </section>

    <section id="seccio-detall-casa" class="oculta" style="padding:20px;">
        <button class="boto-tornar" onclick="mostrarSeccio('seccio-sensors')">â† Tornar</button>
        <h2 id="titol-casa" style="text-align:center;">Dades de la Casa</h2>
        <div class="quadre-container">
            <div class="boto-sensor"><div class="sensor-titol">Humitat</div><div id="val-hum" class="sensor-valor">-- %</div><canvas id="graficHum" class="canvas-mini"></canvas></div>
            <div class="boto-sensor"><div class="sensor-titol">Temperatura</div><div id="val-temp" class="sensor-valor">-- Â°C</div><canvas id="graficTemp" class="canvas-mini"></canvas></div>
            <div class="boto-sensor"><div class="sensor-titol">InclinaciÃ³</div><div id="val-inc" class="sensor-valor">-- Â°</div><canvas id="graficInc" class="canvas-mini"></canvas></div>
            <div class="boto-sensor"><div class="sensor-titol">Pluja</div><div id="val-pluja" class="sensor-valor">-- mm</div><canvas id="graficPluja" class="canvas-mini"></canvas></div>
        </div>
    </section>

    <section id="seccio-vigilancia" class="oculta" style="padding:20px;">
        <button class="boto-tornar" onclick="mostrarSeccio('seccio-principal')">â† MenÃº</button>
        <div class="quadre-container">
            <div class="quadre" onclick="obrirDetallVigi('ne')"><span>â†—ï¸</span> Nord-est <div id="pilot-ne" class="pilot-vigi"></div></div>
            <div class="quadre" onclick="obrirDetallVigi('no')"><span>â†–ï¸</span> Nord-oest <div id="pilot-no" class="pilot-vigi"></div></div>
            <div class="quadre" onclick="obrirDetallVigi('se')"><span>â†˜ï¸</span> Sud-est <div id="pilot-se" class="pilot-vigi"></div></div>
            <div class="quadre" onclick="obrirDetallVigi('so')"><span>â†™ï¸</span> Sud-oest <div id="pilot-so" class="pilot-vigi"></div></div>
        </div>
    </section>

    <section id="detall-vigilancia" class="oculta" style="padding:20px;">
        <button class="boto-tornar" onclick="mostrarSeccio('seccio-vigilancia')">â† Tornar</button>
        <h3 id="titol-vigi" style="text-align:center;">Historial VigilÃ ncia</h3>
        <div id="llista-alarmes" style="background:white; padding:15px; border-radius:10px; max-width:500px; margin:0 auto;"></div>
    </section>

    <section id="seccio-mapa" class="oculta" style="padding:20px;">
        <button class="boto-tornar" onclick="mostrarSeccio('seccio-principal')">â† MenÃº</button>
        <div style="width:100%; border-radius:15px; overflow:hidden;"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2999.421712497645!2d1.5835693766155708!3d41.19083540817454!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12a140f7b9287515%3A0xc6c766e4a305f2a1!2sCiutadella%20Ib%C3%A8rica%20de%20Calafell!5e0!3m2!1sca!2ses!4v1700000000000" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe></div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
